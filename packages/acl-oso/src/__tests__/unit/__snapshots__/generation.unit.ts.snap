// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`generation generate polar script should generateResourceScripts 1`] = `
"resource Repo {
	roles = [\\"admin\\", \\"maintainer\\", \\"reader\\"];
	permissions = [\\"read\\", \\"create_issues\\", \\"list_issues\\", \\"create_role_assignments\\", \\"list_role_assignments\\", \\"update_role_assignments\\", \\"delete_role_assignments\\"];
	relations = {org: Org};
	\\"create_role_assignments\\" if \\"admin\\";
	\\"list_role_assignments\\" if \\"admin\\";
	\\"update_role_assignments\\" if \\"admin\\";
	\\"delete_role_assignments\\" if \\"admin\\";
	\\"read\\" if \\"reader\\";
	\\"list_issues\\" if \\"reader\\";
	\\"create_issues\\" if \\"reader\\";
	\\"admin\\" if \\"owner\\" on \\"org\\";
	\\"reader\\" if \\"member\\" on \\"org\\";
	\\"maintainer\\" if \\"admin\\";
	\\"reader\\" if \\"maintainer\\";
}
has_relation(org: Org, \\"org\\", _: Repo{org: org});

has_role(actor: Actor, name: String, repo: Repo) if
  mapping in repo.principals and
  mapping matches {principalId: actor.id, roleId: name};
has_permission(actor: Actor, action: String, repo: Repo) if
  has_custom_role(actor, role, repo) and
  permission in role.permissions and
  permission.permission = action;
has_custom_role(actor: Actor, role: Role, repo: Repo) if
  role in repo.roles and
  mapping in role.principals and
  mapping.principalId = actor.id;
"
`;
